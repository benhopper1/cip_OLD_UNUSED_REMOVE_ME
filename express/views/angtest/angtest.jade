head 
	meta(charset="UTF-8")
	meta(name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no")

	script(src="/public/js/webmenu/webmenu.js" type="text/javascript")
//background-image: url('public/images/ui/background_crack.jpg')
body(style="")
	//script(type='text/javascript', src='/js/jquery/jquery-2.0.3.min.js')



	script(type='text/javascript', src='http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js')
	script(type='text/javascript', src='/js/qrcode/jquery.qrcode.js')

	script(type='text/javascript', src='/js/clientutil/clientutil.js')

	masterMenu-----
	script(src="/public/js/mastermenu/src/js/jquery.mmenu.min.js" type="text/javascript")
	link(href="/public/js/mastermenu/src/css/jquery.mmenu.css" type="text/css" rel="stylesheet")
	link(href="/public/js/mastermenu/src/css/extensions/jquery.mmenu.themes.css" type="text/css" rel="stylesheet")
	link(href="/public/js/mastermenu/src/css/extensions/jquery.mmenu.fullscreen.css" type="text/css" rel="stylesheet")
	
	script.
		var getUserId =function(){return '#{userId}';}
		var getDeviceId = function(){return '#{deviceId}';}
		var getURL = function(){return '#{URL}';}
		var getDefaultUserImageUrl = function(){return '#{defaultUserImageUrl}';}
		var getDefaultMemberImageUrl = function(){return '#{defaultMemberImageUrl}';}

	mixin intToHex(i)
		h2.intToHex #{i}







	+intToHex('xxsdsds')
	+intToHex('xx')






	script.
		var mJson = 
			{
				key_0:'value_0',
				key_1:
					[
						'arrayVal0','arrayVal1'
					],
				key_2:
					{
						objKey0:'valOfObjKey0'
					},
				key_3:'value_3',
				key_4:
					[
						{
							"id":"subMenu_contacts_add_save",
							"caption":"Save",
							"index":0,
							"forceBack":true
						},
						{
							"id":"subMenu_contacts_add_clear",
							"caption":"Clear",
							"index":1,
							"forceBack":true
						},
						{
							"id":"subMenu_contacts_add_close",
							"caption":"Close",
							"index":2,
							"forceBack":true
						}
					]
			}

		var bigJson = 
		{
			"isSubMenu":false,
			"subMenuCaption":"subMenuCapt",
			"subMenuId":"subMenuCapt",
			"subMenuIndex":"subMenuCapt",

			"menuData":
				[
					{
						"id":"mainMenu_contacts",
						"index":0,
						"caption":"Contacts",
						
						"forceBack":true,
						"subMenu":
							[
								{
									"id":"subMenu_contacts_add",
									"caption":"Add",
									"index":0,
									"forceBack":true,
									"subMenu":
										[
											{
												"id":"subMenu_contacts_add_save",
												"caption":"Save",
												"index":0,
												"forceBack":true
											},
											{
												"id":"subMenu_contacts_add_clear",
												"caption":"Clear",
												"index":1,
												"forceBack":true
											},
											{
												"id":"subMenu_contacts_add_close",
												"caption":"Close",
												"index":2,
												"forceBack":true
											}

										]
								},
								{
									"id":"subMenu_contacts_edit",
									"caption":"Edit",
									"index":1,
									"forceBack":true
								},
								{
									"id":"subMenu_contacts_delete",
									"caption":"Delete",
									"index":2,
									"forceBack":true
								}
							]
					},


					{
						"id":"mainMenu_sms",
						"caption":"Sms",
						"index":1,
						"subMenu":
							[
								{
									"id":"subMenu_sms_unkown0",
									"caption":"unknown0",
									"index":0,
									"forceBack":true
								},
								{
									"id":"subMenu_sms_unkown1",
									"caption":"unknown1",
									"index":1,
									"forceBack":true
								}

							]
					},


					{
						"id":"mainMenu_phone",
						"caption":"Phone",
						"index":2,
						
						"forceBack":true
					}
				]
		}

		console.log('test key_o:' + $json.isObject(mJson.key_0));
		console.log('test key_1:' + $json.isObject(mJson.key_1));
		console.log('test key_2:' + $json.isObject(mJson.key_2));

		console.log('test field key_0 :' + $json.fieldExist(mJson,'key_2z'));

		console.dir($json.getSingleLayer(mJson));
		console.log('------reducer-----------------------------');
		console.dir($json.getAllKeys(bigJson));
		//console.log("check_0" + $json.getAllKeys(bigJson)[1]);

		var newHash = {};
		for(var index in $json.getAllKeys(bigJson)){
			console.log('check_1:' + $json.getAllKeys(bigJson)[index]);
			var execString = sprintf('bigJson.%s', $json.getAllKeys(bigJson)[index]);
			var theVal = eval(execString);
			console.log('theVal:' + theVal);
		}

		//eval("console.log(   " + $json.getAllKeys(bigJson)[1] + "      )");

		//console.log(sprintf('first Name:%s and last: %s', 'ben', 'hopper'));


		//console.dir(JSON.flatten(mJson));
		console.log('getAllKeys');
		console.dir($json.getAllKeys(bigJson));

		console.log('------object test-----------------------------');
		var jsonPathifyObject = new JsonPathifyObject(bigJson, 'id');
		console.dir(jsonPathifyObject.getArrayOfInterestKeys());

		//menuData[0].subMenu[0].subMenu[1].id
		var thePath = jsonPathifyObject.getParentPath('subMenu_contacts_add_clear');
		console.log('theParentPath:' + thePath);
		//jsonPathifyObject.getParrent('subMenu_contacts_add_clear');

		//- console.log(JSON.stringify(mJson));
		//- console.dir($json.mapJson(bigJson));
		console.log('getParrentId' + jsonPathifyObject.getParrentId('subMenu_contacts_add_clear'));
		console.log('getParrentId2' + jsonPathifyObject.getParrentId(     jsonPathifyObject.getParrentId('subMenu_contacts_add_clear')       ));
		console.log('getParrentId3' + jsonPathifyObject.getParrentId(     jsonPathifyObject.getParrentId(        jsonPathifyObject.getParrentId('subMenu_contacts_add_clear')       )       ));

		var parentJson = jsonPathifyObject.getParentJsonById('subMenu_contacts_add_clear');
		console.log('parentJson id:' + parentJson.id);
		console.log('getParrentId id:' + jsonPathifyObject.getParrentId('subMenu_contacts_add_clear'));